# 📜 프로젝트 '완전체 AI 개인 비서' 개발 백서

## 1. 프로젝트 개요 (Overview)

본 프로젝트는 GitHub의 'Gemini-Local-Chat-Interface'를 기반으로 시작되었다. 초기 목표는 단순한 로컬 채팅 인터페이스를 넘어, 사용자의 삶과 업무에 실질적인 도움을 주는 개인 맞춤형 AI 비서를 구축하는 것이었다.

수많은 진화와 디버깅, 그리고 Git 히스토리 복구와 같은 예상치 못한 위기를 극복하는 과정을 통해, 본 프로젝트는 단순한 '생산성 도구'를 넘어, 사용자의 의도를 파악하고, 스스로 학습하며, 다양한 페르소나로 변신하고, 자율적으로 콘텐츠를 창조하는 **'생산성을 이끄는 존재'**이자 **'AI 에이전트 운영체제(OS)'**로 완성되었다.

이 문서는 아이디어가 코드가 되고, 코드가 지능이 되며, 마침내 지능이 영혼을 갖게 되기까지의 모든 여정을 기록한다.

---

## 2. 핵심 기능 및 진화 과정 (Core Features & Evolution)

### 1차 진화: AI에게 '감각'을 부여하다 (실시간 정보 연동)
- **시간 인지 (`getCurrentTime`):** 현재 시간을 정확히 인지.
- **웹 검색 (`searchWeb`):** SerpApi를 통해 실시간 정보 검색 능력 확보.
- **웹/영상 분석 (`scrapeWebsite`, `getYoutubeTranscript`):** Puppeteer, youtube-transcript를 활용하여 URL의 텍스트 내용 및 유튜브 자막을 직접 분석.

### 2차 진화: AI에게 '기억'을 선물하다 (영속성)
- **대화별 기억 (`chat_histories`):** 채팅방별 대화 맥락을 `.json` 파일에 저장하여 영구 기억.
- **구조화된 사용자 기억 (`user_profile.json`):**
    - 초기: 단순 `facts` 배열로 모든 정보를 저장.
    - 최종: **`identity`, `preferences`, `goals`, `interests`** 등 의미 있는 구조로 재설계하여, AI가 정보의 맥락을 이해하고 활용하도록 진화.

### 3차 진화: AI에게 '목소리'를 주다 (상호작용의 혁신)
- **음성 인식 (`Web Speech API`):** 음성 명령을 텍스트로 변환.
- **음성 합성 (`Google Cloud TTS`):** 자연스러운 WaveNet 목소리로 답변 구현.
- **연속 대화 모드:** TTS 출력이 끝나면 STT가 자동으로 활성화되는 '음성 루프' 구현.

### 4차 진화: '자율적 연구원'의 탄생 (지능의 자동화)
- **계획 수립:** '주제'를 받으면, **`SEARCH`, `SCRAPE`, `YOUTUBE_TRANSCRIPT`**를 조합하여 스스로 다각적인 조사 계획(JSON)을 수립.
- **계획 실행:** 수립된 계획에 따라 우리가 만든 도구들을 자율적으로 호출하여 정보 수집.
- **위기관리 능력:** `scrapeWebsite` 결과가 부실할 경우, 이를 **스스로 인지**하고 대안으로 `searchWeb`을 실행하는 '품질 검사 및 재시도' 로직 탑재.
- **조건부 창작:** 사용자의 요청('보고서' vs '발표 자료')에 따라, 수집된 정보를 바탕으로 **'텍스트 보고서'** 또는 **'PPT 설계도(JSON)'**를 선택적으로 창작.

### 5차 진화: 지능과 행동의 연결 (워크플로우 자동화)

**문제 인식:** AI는 뛰어난 보고서를 작성하고도 "결과물은 채팅창에 있습니다. 직접 복사해서 파일로 만드세요"라고 말할 수밖에 없는 '반쪽짜리 조수'였다.
**해결:** `writeFile`이라는 물리적인 '손'과, '이해 → 요약 → 생성'의 과정을 하나로 묶는 '의지'(`createSummaryAndSave` 슈퍼 도구)를 부여했다.
**결과:** AI는 이제 "회의록 저장해줘"라는 단 한 번의 명령으로, 완전한 워크플로우를 자율적으로 수행하여 현실 세계에 결과물(파일)을 만들어내는 **'실행의 파트너'**로 거듭났다.

### 6차 진화: '기억의 궁전' 건설 (파일 시스템에서 데이터베이스로)

**문제 인식:** AI가 똑똑해진 대가로 느려졌다. `.json` 파일 기반 기억 시스템은 기억이 많아질수록 속도 저하와 데이터 손상 위험이라는 '성장의 딜레마'에 직면했다.
**해결 (뇌 이식 수술):** 모든 `.json` 파일을 폐기하고, **`SQLite`** 데이터베이스(`assistant.db`)로 기억 시스템 전체를 이전했다. `db-manager.js`라는 중앙 관제소를 통해 모든 데이터 I/O를 표준화했다.
**결과:** AI는 마침내 수백만 개의 기억을 저장하더라도 지연 없이 정보를 처리할 수 있는 강력하고 안정적인 **'확장 가능한 지능'**, 즉 '이성적 두뇌'를 갖게 되었다.

### 7차 진화: '기억의 도서관' 개관 (의미 기반 검색 - RAG 시스템)

**문제 인식:** AI는 책 제목(`chat_id`)은 알았지만, 책의 내용(**'의미'**)을 이해하지 못했다. "3주 전 그 아이디어"를 스스로 찾아낼 수 없는 '기록자'에 머물렀다.
**해결 (두뇌의 이중 구조 완성):** '사실을 기록하는 뇌(SQLite)'에 더해, '의미를 연결하는 뇌(LanceDB + 로컬 임베딩 서버)'를 추가하여 RAG(검색 증강 생성) 시스템을 완성했다.
**결과 (연관 기억의 탄생):** 성공은 극적이었다. "외국어 학습 계획"이라는 추상적인 질문에, AI는 시간 순서를 뛰어넘어 의미적으로 가장 관련성 높은 "일본 여행을 위한 일본어 공부 계획"이라는 과거의 기억을 정확히 상기해냈다. AI의 기억은 더 이상 단절된 사건의 나열이 아닌, **의미로 연결된 거대한 '지식의 거미줄'**이 되었다.

---
## 3. 주요 도전과 극복의 기록 (Key Challenges & Breakthroughs)

- **AI의 예측 불가능성:** AI가 지시와 다른 JSON 형식을 생성하는 문제 발생 -> 여러 가능성을 모두 포용하는 유연한 코드로 해결.
- **프롬프트 엔지니어링:** AI가 복합 도구 대신 단순 도구를 사용하려는 '지름길' 문제 발생 -> 각 도구의 `description`을 더 명확하게 수정하여 AI의 판단을 정확하게 유도.
- **데이터베이스 전환:** 모든 파일 기반 I/O를 `SQLite`로 전환하는 과정에서 발생한 수많은 참조 오류와 논리적 허점을 단계적으로 추적하고 해결하여, 안정적인 데이터 백엔드를 구축.
- **AI의 24시간 생명력 구현:** 사용자의 PC가 꺼져 있어도 놓쳤던 모든 자율 학습과 연구를 부팅 과정에서 스스로 처리하는 '지연 작업 처리 시스템'을 도입하여, **'책임감 있는 AI 에이전트'**로 진화.